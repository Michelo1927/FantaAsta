<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FantastA</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>FantastA</h1>
            <p>Gestione Asta Fantacalcio</p>
        </header>

        <!-- Mobile Tab Navigation (visible only on mobile) -->
        <div class="mobile-tabs">
            <button class="mobile-tab active" data-tab="players">üè† Giocatori</button>
            <button class="mobile-tab" data-tab="team">üë• Squadra</button>
            <button class="mobile-tab" data-tab="filters">‚öôÔ∏è Filtri</button>
            <button class="mobile-tab" data-tab="details">üìä Dettagli</button>
        </div>

        <!-- Mobile Budget Bar (visible only on mobile) -->
        <div class="mobile-budget-bar">
            <div class="mobile-budget-info">
                <span id="mobileBudgetRemaining">500</span> crediti
            </div>
            <div class="mobile-team-count">
                <span id="mobileTeamCount">0</span>/25
            </div>
        </div>

        <!-- Desktop Team Management (hidden on mobile) -->
        <div class="team-management desktop-only">
            <div class="budget-info">
                <h3>Budget Disponibile</h3>
                <div class="budget-display">
                    <span id="remainingBudget">500</span> / 500 crediti
                </div>
                <div class="budget-spent">
                    Spesi: <span id="spentBudget">0</span> crediti
                </div>
                <div class="team-count">
                    Giocatori: <span id="teamCount">0</span>/25
                </div>
                <div class="budget-average">
                    <span id="averageBudget">Budget medio: 0 crediti per giocatore</span>
                </div>
            </div>
            
            <div class="my-team">
                <h3>La Mia Squadra</h3>
                <div class="team-controls">
                    <button id="clearTeamBtn" class="btn btn-secondary">Svuota Squadra</button>
                    <button id="exportTeamBtn" class="btn btn-primary">Esporta Squadra</button>
                </div>
                <div id="myTeamList" class="team-list">
                    <p class="empty-team">Nessun giocatore acquistato</p>
                </div>
            </div>
        </div>

        <div class="main-content">
            <!-- Desktop Sidebar (hidden on mobile) -->
            <aside class="sidebar desktop-only">
                <div class="search-panel">
                    <h3>Carica File CSV</h3>
                    <div class="form-group">
                        <label for="csvFile">Seleziona file giocatori.csv:</label>
                        <input type="file" id="csvFile" accept=".csv" class="file-input">
                        <button type="button" id="loadCsvBtn" class="btn btn-primary">Carica CSV</button>
                    </div>
                    
                    <h3>Filtri Rapidi</h3>
                    <div class="quick-filters">
                        <button class="quick-filter-btn" data-filter="titolari">üèÜ Titolari</button>
                        <button class="quick-filter-btn" data-filter="giovani">üåü Giovani</button>
                        <button class="quick-filter-btn" data-filter="rigoristi">‚öΩ Rigoristi</button>
                        <button class="quick-filter-btn active" data-filter="tutti">üìã Tutti</button>
                    </div>
                    
                    <h3>Ricerca Avanzata</h3>
                    <form id="searchForm">
                        <div class="form-group">
                            <label for="playerName">Nome:</label>
                            <input type="text" id="playerName" placeholder="Cerca per nome...">
                        </div>
                        
                        <div class="form-group">
                            <label for="role">Ruolo:</label>
                            <select id="role">
                                <option value="">Tutti</option>
                                <option value="POR">POR</option>
                                <option value="DIF">DIF</option>
                                <option value="CEN">CEN</option>
                                <option value="TRQ">TRQ</option>
                                <option value="ATT">ATT</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="team">Squadra:</label>
                            <select id="team">
                                <option value="">Tutte</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="skill">Skill:</label>
                            <select id="skill">
                                <option value="">Tutte</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="minScore">Punteggio Min:</label>
                            <input type="number" id="minScore" min="0" max="100" step="0.1" value="0">
                        </div>
                        
                        <div class="form-group">
                            <label for="maxScore">Punteggio Max:</label>
                            <input type="number" id="maxScore" min="0" max="100" step="0.1" value="100">
                        </div>
                        
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="hideAcquired"> Nascondi giocatori presi
                            </label>
                        </div>
                        
                        <div class="button-group">
                            <button type="submit" class="btn btn-primary">Cerca</button>
                            <button type="button" id="resetBtn" class="btn btn-secondary">Reset</button>
                        </div>
                    </form>
                </div>
            </aside>

            <!-- Main Content Area -->
            <main class="content">
                <!-- Mobile Content Sections -->
                <div class="mobile-content-section active" id="mobile-players">
                    <div class="mobile-file-upload">
                        <input type="file" id="mobileCSVFile" accept=".csv" class="mobile-file-input">
                        <button type="button" id="mobileLoadCsvBtn" class="btn btn-primary">Carica CSV</button>
                    </div>
                    
                    <div class="mobile-quick-filters">
                        <button class="mobile-quick-filter active" data-filter="tutti">Tutti</button>
                        <button class="mobile-quick-filter" data-filter="titolari">Titolari</button>
                        <button class="mobile-quick-filter" data-filter="giovani">Giovani</button>
                        <button class="mobile-quick-filter" data-filter="rigoristi">Rigoristi</button>
                    </div>
                    
                    <div class="status-bar">
                        <span id="statusLabel">Carica il file CSV per iniziare</span>
                    </div>
                    
                    <div class="table-container">
                        <table id="playersTable">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Ruolo</th>
                                    <th>Punteggio</th>
                                    <th>Azioni</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="mobile-content-section" id="mobile-team">
                    <div class="mobile-team-header">
                        <h3>La Mia Squadra</h3>
                        <div class="mobile-team-controls">
                            <button id="mobileExportTeamBtn" class="btn btn-primary btn-small">Esporta</button>
                            <button id="mobileClearTeamBtn" class="btn btn-secondary btn-small">Svuota</button>
                        </div>
                    </div>
                    
                    <div class="mobile-budget-details">
                        <div class="mobile-budget-item">
                            <span>Rimanente:</span>
                            <span id="mobileRemainingBudget">500</span> crediti
                        </div>
                        <div class="mobile-budget-item">
                            <span>Speso:</span>
                            <span id="mobileSpentBudget">0</span> crediti
                        </div>
                        <div class="mobile-budget-item">
                            <span>Budget medio:</span>
                            <span id="mobileAverageBudget">0</span> crediti
                        </div>
                    </div>
                    
                    <div id="mobileTeamList" class="mobile-team-list">
                        <p class="empty-team">Nessun giocatore acquistato</p>
                    </div>
                </div>

                <div class="mobile-content-section" id="mobile-filters">
                    <form id="mobileSearchForm">
                        <div class="form-group">
                            <label for="mobilePlayerName">Nome giocatore:</label>
                            <input type="text" id="mobilePlayerName" placeholder="Cerca per nome...">
                        </div>
                        
                        <div class="form-group">
                            <label for="mobileRole">Ruolo:</label>
                            <select id="mobileRole">
                                <option value="">Tutti</option>
                                <option value="POR">POR</option>
                                <option value="DIF">DIF</option>
                                <option value="CEN">CEN</option>
                                <option value="TRQ">TRQ</option>
                                <option value="ATT">ATT</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="mobileTeam">Squadra:</label>
                            <select id="mobileTeam">
                                <option value="">Tutte</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="mobileMinScore">Punteggio minimo:</label>
                            <input type="number" id="mobileMinScore" min="0" max="100" step="0.1" value="0">
                        </div>
                        
                        <div class="form-group">
                            <label for="mobileMaxScore">Punteggio massimo:</label>
                            <input type="number" id="mobileMaxScore" min="0" max="100" step="0.1" value="100">
                        </div>
                        
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="mobileHideAcquired"> Nascondi giocatori presi
                            </label>
                        </div>
                        
                        <div class="button-group">
                            <button type="submit" class="btn btn-primary">Applica Filtri</button>
                            <button type="button" id="mobileResetBtn" class="btn btn-secondary">Reset</button>
                        </div>
                    </form>
                </div>

                <div class="mobile-content-section" id="mobile-details">
                    <h3>Dettagli Giocatore</h3>
                    <div id="mobilePlayerDetails" class="mobile-details-content">
                        <p>Seleziona un giocatore dalla lista per visualizzarne i dettagli</p>
                    </div>
                </div>

                <!-- Desktop Table (hidden on mobile) -->
                <div class="desktop-table-section desktop-only">
                    <div class="status-bar">
                        <span id="desktopStatusLabel">Carica il file CSV per iniziare</span>
                    </div>
                    
                    <div class="table-container">
                        <table id="desktopPlayersTable">
                            <thead>
                                <tr>
                                    <th>Stato</th>
                                    <th>Nome</th>
                                    <th>Ruolo</th>
                                    <th>Squadra</th>
                                    <th>Fantamedia 2024-2025</th>
                                    <th>Punteggio</th>
                                    <th>Trend</th>
                                    <th>Azioni</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </main>

            <!-- Desktop Details Panel (hidden on mobile) -->
            <aside class="details-panel desktop-only">
                <div class="player-details">
                    <h3>Dettagli Giocatore</h3>
                    <div id="playerDetails" class="details-content">
                        <p>Seleziona un giocatore dalla tabella per visualizzarne i dettagli</p>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <!-- Modal per acquisto giocatore -->
    <div id="purchaseModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Acquista Giocatore</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <p>Nome: <span id="modalPlayerName"></span></p>
                <p>Ruolo: <span id="modalPlayerRole"></span></p>
                <div class="budget-suggestion">
                    <small id="budgetSuggestion"></small>
                </div>
                <div class="form-group">
                    <label for="purchasePrice">Prezzo di acquisto:</label>
                    <input type="number" id="purchasePrice" min="1" max="500" value="1">
                </div>
            </div>
            <div class="modal-footer">
                <button id="confirmPurchase" class="btn btn-primary">Conferma Acquisto</button>
                <button id="cancelPurchase" class="btn btn-secondary">Annulla</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>